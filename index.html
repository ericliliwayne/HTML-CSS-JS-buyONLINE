<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小董速食快餐店線上點餐系統</title>
    <link rel="stylesheet" href="./CSS/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
    <section id="table">
        <div class="title">歡迎光臨~ 小董速食快餐店</div>
        <div class="menu1">餐點</div>
        <div class="menu2">單價</div>
        <div class="menu3">數量</div>
        <div class="menu4">總價</div>
        <!-- 第一區 -->
        <div class="pro1">
            <form action="">
                <label for="mainmeal">點選主餐:
                    <select name="mainmeal" id="mainmeal">
                        <option value="請選擇主餐!" data-cost=" 0">請選擇主餐!</option>
                        <option value="豬排堡" data-cost="70">豬排堡</option>
                        <option value="香雞堡" data-cost="75">香雞堡</option>
                        <option value="炒泡麵" data-cost="80">炒泡麵</option>
                        <option value="雞腿堡" data-cost="85">雞腿堡</option>
                        <option value="番茄義大利麵" data-cost="90">番茄義大利麵</option>
                        <option value="白醬義大利麵" data-cost="100">白醬義大利麵</option>
                        <option value="青醬義大利麵" data-cost="110">青醬義大利麵</option>
                        <option value="潛艇堡" data-cost="90">潛艇堡</option>
                        <option value="大熱狗" data-cost="80">大熱狗</option>
                    </select>
                </label>
            </form>
        </div>
        <div class="pri1">
            <p id="pria">0</p> 元
        </div>
        <div class="num1">
            <form action="">
                <input type="text" id="NUM1"> 個
            </form>
        </div>
        <div class="cost1">
            <p id="costa">0</p> 元
        </div>
        
        <!-- 第二區 -->
        <div class="pro2">
            <form action="">
                <label for="sidemeal">點選副餐:
                    <select name="sidemeal" id="sidemeal">
                        <option value="請選擇副餐!" data-cost=" 0">請選擇副餐!</option>
                        <option value="薯條" data-cost="35">薯條</option>
                        <option value="雞塊" data-cost="40">雞塊</option>
                        <option value="薯餅" data-cost="40">薯餅</option>
                        <option value="地瓜條" data-cost="40">地瓜條</option>
                        <option value="沙拉" data-cost="50">沙拉</option>
                        <option value="玉米濃湯" data-cost="50">玉米濃湯</option>
                        <option value="味噌湯" data-cost="40">味噌湯</option>
                        <option value="魚丸湯" data-cost="35">魚丸湯</option>
                        <option value="酸辣湯" data-cost="35">酸辣湯</option>
                    </select>
                </label>
            </form>
        </div>
        <div class="pri2">
            <p id="prib">0</p> 元
        </div>
        <div class="num2">
            <form action="">
                <input type="text" id="NUM2"> 個
            </form>
        </div>
        <div class="cost2">
            <p id="costb">0</p> 元
        </div>

        <!-- 第三區 -->
        <div class="pro3">
            <form action="">
                <label for="drink">點選飲料:
                    <select name="drink" id="drink">
                        <option value="請選擇飲料!" data-cost=" 0">請選擇飲料!</option>
                        <option value="冬瓜茶" data-cost="25">冬瓜茶</option>
                        <option value="西米露" data-cost="40">西米露</option>
                        <option value="奶茶" data-cost="35">奶茶</option>
                        <option value="鮮奶茶" data-cost="40">鮮奶茶</option>
                        <option value="麥仔茶" data-cost="20">麥仔茶</option>
                        <option value="紅茶" data-cost="25">紅茶</option>
                        <option value="綠茶" data-cost="30">綠茶</option>
                        <option value="可樂" data-cost="30">可樂</option>
                        <option value="仙草茶" data-cost="25">仙草茶</option>
                    </select>
                </label>
            </form>
        </div>
        <div class="pri3">
            <p id="pric">0</p> 元
        </div>
        <div class="num3">
            <form action="">
                <input type="text" id="NUM3"> 個
            </form>
        </div>
        <div class="cost3">
            <p id="costc">0</p> 元
        </div>

        <!-- 第四區 -->
        <div class="pro4">
            <form action="">
                <label for="dessert">點選甜點:
                    <select name="dessert" id="dessert">
                        <option value="請選擇甜點!" data-cost=" 0">請選擇甜點!</option>
                        <option value="起司蛋糕片" data-cost="50">起司蛋糕片</option>
                        <option value="黑森林蛋糕片" data-cost="60">黑森林蛋糕片</option>
                        <option value="抹茶蛋糕片" data-cost="70">抹茶蛋糕片</option>
                        <option value="冰淇淋蛋糕片" data-cost="75">冰淇淋蛋糕片</option>
                        <option value="紅豆冰棒" data-cost="40">紅豆冰棒</option>
                        <option value="牛奶冰棒" data-cost="45">牛奶冰棒</option>
                        <option value="水果冰棒" data-cost="35">水果冰棒</option>
                        <option value="綠豆沙" data-cost="40">綠豆沙</option>
                        <option value="芒果冰沙" data-cost="60">芒果冰沙</option>
                    </select>
                </label>
            </form>
        </div>
        <div class="pri4">
            <p id="prid">0</p> 元
        </div>
        <div class="num4">
            <form action="">
                <input type="text" id="NUM4"> 個
            </form>
        </div>
        <div class="cost4">
            <p id="costd">0</p> 元
        </div>

        <div id="total">總金額 : <span> 0</span> 元</div>
        <div class="toBtn">
            <div><button type="reset" id="rebtn">放棄訂單</button></div>
            <p id="pp">&nbsp;</p>
            <div><button type="submit" id="tobtn">結算訂單</button></div>
        </div>
    </section>
    <!-- <script src="./JS/style.js"></script> -->
    <script>
        $(document).ready(function(){
            //選取食物後顯示該食物的價格
            //主餐區
            $("#mainmeal").change(function(){
                let str = "";
                $( "#mainmeal option:selected" ).each(function() {
                    str += $( this ).data("cost");
                });
                $("#pria").html(str);
            })
            //附餐區
            $("#sidemeal").change(function(){
                let str = "";
                $( "#sidemeal option:selected" ).each(function() {
                    str += $( this ).data("cost");
                });
                $("#prib").html(str);
            })
            //飲料區
            $("#drink").change(function(){
                let str = "";
                $( "#drink option:selected" ).each(function() {
                    str += $( this ).data("cost");
                });
                $("#pric").html(str);
            })
            //甜點區
            $("#dessert").change(function(){
                let str = "";
                $( "#dessert option:selected" ).each(function() {
                    str += $( this ).data("cost");
                });
                $("#prid").html(str);
            })

            //計算價格
            //各區先撈取價格
            $("#NUM1").change(function(){
                $( "#mainmeal option:selected" ).each(function() {
                    let str = $( this ).data("cost");
                    let str2 = $("#NUM1").val();
                    let result = str2 * str;
                    $("#costa").html(result);
                });   
            })
            $("#NUM2").change(function(){
                $( "#sidemeal option:selected" ).each(function() {
                    let str = $( this ).data("cost");
                    let str2 = $("#NUM2").val();
                    let result = str2 * str;
                    $("#costb").html(result);
                });   
            })
            $("#NUM3").change(function(){
                $( "#drink option:selected" ).each(function() {
                    let str = $( this ).data("cost");
                    let str2 = $("#NUM3").val();
                    let result = str2 * str;
                    $("#costc").html(result);
                });   
            })
            $("#NUM4").change(function(){
                $( "#dessert option:selected" ).each(function() {
                    let str = $( this ).data("cost");
                    let str2 = $("#NUM4").val();
                    let result = str2 * str;
                    $("#costd").html(result);
                });   
            })
            //計算總金額
                    
                    $("#tobtn").on("click",function() {
                        let a = $("#costa").html();
                        let b = $("#costb").html();
                        let c = $("#costc").html();
                        let d = $("#costd").html();
                        let result = parseInt(a) + parseInt(b) + parseInt(c) + parseInt(d);
                        $("span").html(result.toLocaleString('en-US'));
                    })

                    //重整頁面放棄訂單
                    $("#rebtn").on("click",function() {
                        let chk = confirm("確認放棄訂單?");
                        if(chk==true){
                            alert("成功放棄訂單!!");
                            location.reload();
                        }else{
                            alert("取消放棄訂單!!");
                        }
                        
                    })
               
        })
    </script>
</body>

</html>